{% extends "RootLayout.html" %}

{% block title %}iGEM 2023 Human Practices{% endblock %}
{% block lead %}
<b>Welcome to iGEM 2023!</b> Dive into our project's impact on society and the environment.
{% endblock %}

{% block page_content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/human-practices.css') }}">
<div class="navbar">
    <a href="#impact" class="active">Environmental Impact</a>
    <a href="#engagement">Community Engagement</a>
    <a href="#ethics">Ethical Considerations</a>
</div>
<main class="main-content">
    <div id="impact" class="section">
        <h1>Community and Environmental Impact</h1>
        <p>Explore how our synthetic biology solutions are transforming environmental conservation efforts.</p>
    </div>
    <div id="engagement" class="section">
        <h1>Stakeholder Engagement</h1>
        <p>See how we collaborate with global communities to ensure sustainable and inclusive development.</p>
    </div>
    <div id="ethics" class="section">
        <h1>Ethical Considerations and Sustainability</h1>
        <p>Understand our commitment to maintaining the highest ethical standards in all our practices.</p>
    </div>
</main>
<div class="footer">
    Â© 2023 iGEM Team. All rights reserved.
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script>
    // Initialize the aquarium effect here
    new p5(p => {
        let fishImg;
        const fishes = [];  // Array to hold multiple fish
        let bubbles = [];

        p.preload = () => {
            fishImg = p.loadImage('https://rawcdn.githack.com/Lesliekonlack/IgemImages/3cde690a9d0d8645421e1caa5a7c2746ddfb5359/Image.heic');
        };

        p.setup = () => {
            p.createCanvas(window.innerWidth, window.innerHeight);
            for (let i = 0; i < 20; i++) {
                fishes.push(new Fish(p.random(p.width), p.random(p.height)));
                bubbles.push(new Bubble(p.random(p.width), p.random(p.height), p.random(1, 5)));
            }
        };

        p.draw = () => {
            p.clear();
            p.background('rgba(0, 100, 150, 0.6)');  // More pronounced water color

            bubbles.forEach(bubble => {
                bubble.move();
                bubble.display();
            });

            fishes.forEach(fish => {
                fish.move();
                fish.display();
            });
        };

        class Fish {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.speedX = p.random(-2, 2);
                this.speedY = p.random(-1, 1);
                this.facing = this.speedX < 0 ? -1 : 1;
            }

            move() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0) this.x = p.width;
                if (this.x > p.width) this.x = 0;
                if (this.y < 0) this.y = p.height;
                if (this.y > p.height) this.y = 0;
            }

            display() {
                p.push();
                p.translate(this.x, this.y);
                p.scale(this.facing, 1);
                p.image(fishImg, 0, 0, fishImg.width / 20, fishImg.height / 20);
                p.pop();
            }
        }

        class Bubble {
            constructor(x, y, size) {
                this.x = x;
                this.y = y;
                this.size = size;
            }

            move() {
                this.y -= 0.5;
                if (this.y < 0) this.y = p.height;
            }

            display() {
                p.fill(255);
                p.noStroke();
                p.circle(this.x, this.y, this.size);
            }
        }
    });
</script>
{% endblock %}
